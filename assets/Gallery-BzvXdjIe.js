import{n as b,q as M,r as x,t as w,j as e,v as S,d as I,l as R,B as u,S as p,x as h,T as k,b as D,I as z,w as A}from"./index-DtdiYH6P.js";import{C as f,a as C,D as B}from"./DialogContent-WbLThmhQ.js";import{D as E}from"./Dialog-BIh4By4I.js";function N(a){return b("MuiCardMedia",a)}M("MuiCardMedia",["root","media","img"]);const P=a=>{const{classes:o,isMediaComponent:r,isImageComponent:t}=a;return R({root:["root",r&&"media",t&&"img"]},N,o)},T=S("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(a,o)=>{const{ownerState:r}=a,{isMediaComponent:t,isImageComponent:i}=r;return[o.root,t&&o.media,i&&o.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),O=["video","audio","picture","iframe","img"],U=["picture","img"],W=x.forwardRef(function(o,r){const t=w({props:o,name:"MuiCardMedia"}),{children:i,className:m,component:n="div",image:s,src:l,style:d,...y}=t,c=O.includes(n),j=!c&&s?{backgroundImage:`url("${s}")`,...d}:d,g={...t,component:n,isMediaComponent:c,isImageComponent:U.includes(n)},v=P(g);return e.jsx(T,{className:I(v.root,m),as:n,role:!c&&s?"img":void 0,ref:r,style:j,ownerState:g,src:c?s||l:void 0,...y,children:i})});function q({books:a=[],addToCart:o,loading:r=!1}){const[t,i]=x.useState(null),m=x.useRef(null),n=()=>i(null);return e.jsxs(u,{ref:m,sx:{mt:{xs:2,sm:8},mb:{xs:4,sm:8}},children:[e.jsx(u,{sx:{px:{xs:1,sm:0},mt:{xs:1,sm:2},display:"grid",gridTemplateColumns:{xs:"repeat(3, 1fr)",sm:"repeat(3,1fr)",md:"repeat(5,1fr)",lg:"repeat(7,1fr)"},gap:{xs:1,sm:2}},children:r?Array.from(new Array(21)).map((s,l)=>e.jsxs(f,{sx:{width:"100%",height:"100%",borderRadius:{xs:1,sm:2},boxShadow:3},children:[e.jsx(p,{variant:"rectangular",height:200,animation:"wave"}),e.jsxs(C,{sx:{p:1},children:[e.jsx(p,{variant:"text",width:"60%"}),e.jsx(p,{variant:"rectangular",width:50,height:24,sx:{mt:1}})]})]},l)):a.filter(s=>s.display==="card").map((s,l)=>{const d=s.image||h("assets/covers/placeholder.png");return e.jsxs(f,{sx:{width:"100%",display:"flex",flexDirection:"column",borderRadius:{xs:1,sm:2},boxShadow:6,height:"100%",overflow:"hidden",transition:"transform 0.2s ease-out",willChange:"transform","&:hover":{transform:"translateY(-4px) scale(1.02)"}},children:[e.jsx(W,{component:"img",image:d,alt:s.title,loading:l<21?"eager":"lazy",decoding:"async",fetchPriority:l<21?"high":"auto",sx:{height:{xs:150,sm:200,md:230},objectFit:"cover",backgroundColor:"#f7f7f7",cursor:"pointer"},onClick:()=>i(s)}),e.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:{xs:.5,sm:1},gap:{xs:.5,sm:1}},children:[typeof s.price<"u"&&e.jsxs(k,{color:"text.primary",fontWeight:700,sx:{fontSize:{xs:"0.8rem",sm:"1rem"}},children:["â‚¹",s.price]}),e.jsx(D,{variant:"contained",size:"small",onClick:()=>o(s.id),sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"},px:{xs:.5,sm:1.5},py:{xs:.25,sm:.5},minWidth:{xs:40,sm:60},backgroundColor:"#f0b04f","&:hover":{backgroundColor:"#d99a3d"}},children:"Add"})]})]},s.id)})}),e.jsx(E,{open:!!t,onClose:n,maxWidth:"sm",children:e.jsxs(B,{sx:{p:0,position:"relative",bgcolor:"#000",display:"flex",justifyContent:"center"},children:[e.jsx(z,{onClick:n,sx:{position:"absolute",top:8,right:8,zIndex:10,color:"#fff",bgcolor:"rgba(0,0,0,0.5)","&:hover":{bgcolor:"rgba(0,0,0,0.8)"}},children:e.jsx(A,{})}),t&&e.jsx("img",{src:t.fullImage||t.image||h("assets/covers/placeholder.png"),alt:t.title,style:{maxWidth:"100%",maxHeight:"80vh",display:"block",objectFit:"contain"}})]})})]})}export{q as default};
