import{s as V,r as f,e as F,j as s,d as A,f as G,h as C,g,i as H,k as O,m as U,l as D,n as z,o as L,p as j,q as N,t as T,v as B,B as S,S as m,T as v,b as w,L as $,I as Y,w as _,x as q}from"./index-DtdiYH6P.js";import{C as X,a as J,D as K}from"./DialogContent-WbLThmhQ.js";import{D as Q}from"./Dialog-BIh4By4I.js";const Z=L(),ee=V("div",{name:"MuiStack",slot:"Root"});function se(e){return G({props:e,name:"MuiStack",defaultTheme:Z})}function te(e,t){const o=f.Children.toArray(e).filter(Boolean);return o.reduce((n,l,a)=>(n.push(l),a<o.length-1&&n.push(f.cloneElement(t,{key:`separator-${a}`})),n),[])}const oe=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],re=({ownerState:e,theme:t})=>{let o={display:"flex",flexDirection:"column",...C({theme:t},g({values:e.direction,breakpoints:t.breakpoints.values}),n=>({flexDirection:n}))};if(e.spacing){const n=H(t),l=Object.keys(t.breakpoints.values).reduce((r,i)=>((typeof e.spacing=="object"&&e.spacing[i]!=null||typeof e.direction=="object"&&e.direction[i]!=null)&&(r[i]=!0),r),{}),a=g({values:e.direction,base:l}),d=g({values:e.spacing,base:l});typeof a=="object"&&Object.keys(a).forEach((r,i,u)=>{if(!a[r]){const x=i>0?a[u[i-1]]:"column";a[r]=x}}),o=O(o,C({theme:t},d,(r,i)=>e.useFlexGap?{gap:j(n,r)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${oe(i?a[i]:e.direction)}`]:j(n,r)}}))}return o=U(t.breakpoints,o),o};function ne(e={}){const{createStyledComponent:t=ee,useThemeProps:o=se,componentName:n="MuiStack"}=e,l=()=>D({root:["root"]},r=>z(n,r),{}),a=t(re);return f.forwardRef(function(r,i){const u=o(r),h=F(u),{component:x="div",direction:c="column",spacing:P=0,divider:y,children:b,className:R,useFlexGap:I=!1,...W}=h,E={direction:c,spacing:P,useFlexGap:I},M=l();return s.jsx(a,{as:x,ownerState:E,ref:i,className:A(M.root,R),...W,children:y?te(b,y):b})})}function ae(e){return z("MuiCardActions",e)}N("MuiCardActions",["root","spacing"]);const ie=e=>{const{classes:t,disableSpacing:o}=e;return D({root:["root",!o&&"spacing"]},ae,t)},le=B("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,!o.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),ce=f.forwardRef(function(t,o){const n=T({props:t,name:"MuiCardActions"}),{disableSpacing:l=!1,className:a,...d}=n,p={...n,disableSpacing:l},r=ie(p);return s.jsx(le,{className:A(r.root,a),ownerState:p,ref:o,...d})}),k=ne({createStyledComponent:B("div",{name:"MuiStack",slot:"Root"}),useThemeProps:e=>T({props:e,name:"MuiStack"})});function me({book:e,onAddToCart:t,loading:o=!1}){const[n,l]=f.useState(!1),[a,d]=f.useState(!1),p=c=>{c.preventDefault(),d(!0)},r=c=>{c&&c.stopPropagation(),d(!1)},i={xs:110,sm:160},u={xs:290,sm:360},h={xs:180,sm:240},x=!!e;return s.jsxs(X,{elevation:3,sx:{width:i,height:u,display:"flex",flexDirection:"column",borderRadius:{xs:1,md:2},padding:{xs:0,md:0},overflow:"hidden",transition:"all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1)",transformStyle:"preserve-3d",perspective:"1000px","&:hover":{transform:"translateY(-8px) rotateX(4deg) scale(1.02)",boxShadow:"0 12px 24px -10px rgba(0,0,0,0.3)"}},children:[s.jsx(S,{sx:{height:h,width:"100%",overflow:"hidden"},children:!x||o||!e?.image||n?s.jsx(m,{variant:"rectangular",width:"100%",height:"100%",animation:"wave"}):s.jsx(S,{component:"img",src:e.image,alt:e.title,onError:()=>l(!0),onClick:p,sx:{width:"100%",height:"100%",objectFit:"cover",display:"block",cursor:"zoom-in",transition:"transform 0.4s","&:hover":{transform:"scale(1.1)"}}})}),s.jsxs(J,{sx:{flexGrow:1,px:{xs:.5,md:1},py:{xs:.2,md:.5},display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[e?.title?s.jsx(v,{sx:{fontSize:{xs:"0.8rem",sm:"1rem"},fontWeight:700,lineHeight:1.6,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.title}):s.jsx(m,{variant:"text",sx:{fontSize:"0.9rem"}}),e?.author?s.jsx(v,{sx:{fontSize:"0.7rem",color:"text.secondary",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.author}):s.jsx(m,{variant:"text",sx:{fontSize:"0.7rem",width:"70%"}}),e?.price!=null?s.jsxs(v,{sx:{mt:.3,fontSize:{xs:"0.95rem",sm:"1.1rem"},fontWeight:700,color:"#f0b04f"},children:["â‚¹",e.price]}):s.jsx(m,{variant:"text",sx:{fontSize:"1rem",width:"50%",mt:.5}})]}),s.jsx(ce,{sx:{px:{xs:1,md:1},pt:{xs:0,md:1}},children:!x||o?s.jsxs(k,{direction:{xs:"column",sm:"row"},spacing:.5,sx:{width:"100%"},children:[s.jsx(m,{variant:"rounded",height:28,animation:"wave",sx:{width:{xs:"100%",sm:"48%"}}}),s.jsx(m,{variant:"rounded",height:28,animation:"wave",sx:{width:{xs:"100%",sm:"48%"}}})]}):s.jsxs(k,{direction:{xs:"column",sm:"row"},spacing:.5,sx:{width:"100%"},children:[s.jsx(w,{component:$,to:`/book/${e.id}`,variant:"outlined",size:"small",fullWidth:{xs:!0,sm:!1},sx:{borderColor:"#f0b04f",color:"#f0b04f",px:{xs:0,sm:1.8},py:{xs:0,sm:.6},backgroundColor:"transparent",textTransform:"none",fontWeight:600,fontSize:{xs:"0.85rem",sm:"1rem"},boxShadow:"0 2px 4px rgba(240, 176, 79, 0.1)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{backgroundColor:"#f0b04f",color:"#fff",borderColor:"#f0b04f",boxShadow:"0 4px 12px rgba(240, 176, 79, 0.3)",transform:"translateY(-2px)"}},children:"View"}),s.jsx(w,{variant:"contained",size:"small",fullWidth:{xs:!0,sm:!1},onClick:c=>{c.preventDefault(),t(e.id,1)},sx:{background:"linear-gradient(135deg, #f0b04f 0%, #ffc870 100%)",color:"#fff",textTransform:"none",fontWeight:700,px:{xs:0,sm:1.8},py:{xs:0,sm:.6},fontSize:{xs:"0.85rem",sm:"1rem"},border:"none",boxShadow:"0 4px 12px rgba(214, 185, 141, 0.3)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{background:"linear-gradient(135deg, #ffc870 0%, #f0b04f 100%)",boxShadow:"0 6px 20px rgba(240, 176, 79, 0.4)",transform:"translateY(-2px)",color:"#1A1A1A"}},children:"Add"})]})}),s.jsx(Q,{open:a,onClose:r,maxWidth:"sm",children:s.jsxs(K,{sx:{p:0,position:"relative",bgcolor:"#000",display:"flex",justifyContent:"center",overflow:"hidden"},children:[s.jsx(Y,{onClick:r,sx:{position:"absolute",top:8,right:8,zIndex:10,color:"#fff",bgcolor:"rgba(0,0,0,0.5)","&:hover":{bgcolor:"rgba(0,0,0,0.8)"}},children:s.jsx(_,{})}),s.jsx("img",{src:e?.fullImage||e?.image||q("assets/covers/placeholder.png"),alt:e?.title,style:{maxWidth:"100%",maxHeight:"85vh",display:"block",objectFit:"contain"}})]})})]})}export{me as B,k as S};
